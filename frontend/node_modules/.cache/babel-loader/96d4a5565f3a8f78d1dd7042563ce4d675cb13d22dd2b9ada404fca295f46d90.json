{"ast":null,"code":"import React from'react';import{Button,TextField,Paper,Grid}from'@mui/material';import{useDispatch,useSelector}from'react-redux';import{setDate,setTime,setLocation}from'../redux/actions';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const ReportForm=()=>{const dispatch=useDispatch();// Access state using useSelector\nconst date=useSelector(state=>state.form.date);const time=useSelector(state=>state.form.time);const location=useSelector(state=>state.form.location);// Utility Functions to Dispatch Actions\nconst handleDateChange=e=>{dispatch(setDate(e.target.value));};const handleTimeChange=e=>{dispatch(setTime(e.target.value));};const handleLocationChange=e=>{const[latitude,longitude]=e.target.value.split(',').map(coord=>parseFloat(coord.trim()));};const handleSubmit=async e=>{e.preventDefault();console.log(\"Date:\",typeof date);console.log(\"Time:\",typeof time);console.log(\"Location:\",typeof location);console.log(\"Date:\",date);console.log(\"Time:\",time);console.log(\"Location:\",location);const reportData={date:date,time:time,location:location};try{const response=await axios.post('http://localhost:5038/todoappcollection',reportData);console.log(response.data);// Set state back to null\ndispatch(setDate(\"\"));dispatch(setTime(\"\"));dispatch(setLocation(\"Select Location\"));}catch(error){}};// Render Report Form\nreturn/*#__PURE__*/ (//<Paper elevation={3} style={{ padding: '16px', borderRadius: '30px' }} className=\"report-form\">\n_jsx(Paper,{elevation:3,className:\"report-form\",style:{borderRadius:'20px'},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,alignItems:\"center\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:3,children:/*#__PURE__*/_jsx(TextField,{label:\"Date\",type:\"date\",value:date,onChange:handleDateChange,style:{width:'100%'},InputProps:{style:{padding:'0px 10px',fontSize:'0.8rem'}},fullWidth:true,InputLabelProps:{shrink:true}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:2,children:/*#__PURE__*/_jsx(TextField,{label:\"Time\",type:\"time\",value:time,onChange:handleTimeChange,fullWidth:true,InputProps:{style:{padding:'0px 10px',fontSize:'0.8rem'}},InputLabelProps:{shrink:true}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:5,children:/*#__PURE__*/_jsx(TextField,{label:\"Location\",value:location,onChange:handleLocationChange,fullWidth:true,InputProps:{style:{padding:'0px 10px',//width: '200px',\nfontSize:'0.8rem'}}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:2,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",children:\"Report\"})})]})})}));};export default ReportForm;","map":{"version":3,"names":["React","Button","TextField","Paper","Grid","useDispatch","useSelector","setDate","setTime","setLocation","axios","jsx","_jsx","jsxs","_jsxs","ReportForm","dispatch","date","state","form","time","location","handleDateChange","e","target","value","handleTimeChange","handleLocationChange","latitude","longitude","split","map","coord","parseFloat","trim","handleSubmit","preventDefault","console","log","reportData","response","post","data","error","elevation","className","style","borderRadius","children","onSubmit","container","spacing","alignItems","justifyContent","item","xs","sm","md","label","type","onChange","width","InputProps","padding","fontSize","fullWidth","InputLabelProps","shrink","variant","color"],"sources":["/Users/davisnguyen/projects/crimecompass/frontend/src/components/ReportForm.tsx"],"sourcesContent":["import React from 'react';\nimport { Button, TextField, Paper, Typography, Grid } from '@mui/material';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setDate, setTime, setLocation } from '../redux/actions';\nimport { ClassNames } from '@emotion/react';\nimport axios from 'axios'\n\nconst ReportForm: React.FC = () => {\n    const dispatch = useDispatch();\n\n    // Access state using useSelector\n    const date = useSelector((state: any) => state.form.date);\n    const time = useSelector((state: any) => state.form.time);\n    const location = useSelector((state: any) => state.form.location);\n\n    // Utility Functions to Dispatch Actions\n    const handleDateChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        dispatch(setDate(e.target.value));\n    };\n\n    const handleTimeChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        dispatch(setTime(e.target.value));\n    };\n\n    const handleLocationChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const [latitude, longitude] = e.target.value.split(',').map(coord => parseFloat(coord.trim()));\n\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        console.log(\"Date:\", typeof date);\n        console.log(\"Time:\", typeof time);\n        console.log(\"Location:\", typeof location);\n\n        console.log(\"Date:\", date);\n        console.log(\"Time:\", time);\n        console.log(\"Location:\", location);\n\n        const reportData = {\n            date: date,\n            time: time,\n            location: location,\n        };\n        \n        try {\n            const response = await axios.post('http://localhost:5038/todoappcollection', reportData);\n            console.log(response.data);\n\n            // Set state back to null\n\n            dispatch(setDate(\"\"));\n            dispatch(setTime(\"\"));\n            dispatch(setLocation(\"Select Location\"));\n\n        } catch (error) {\n\n        }\n\n    };\n\n\n    // Render Report Form\n    return (\n        //<Paper elevation={3} style={{ padding: '16px', borderRadius: '30px' }} className=\"report-form\">\n        <Paper elevation={3} className=\"report-form\" style={{ borderRadius: '20px'}}>    \n            {/* <Typography variant=\"h6\" gutterBottom>Report a Car Break-In</Typography> */}\n            <form onSubmit={handleSubmit}>\n                <Grid container spacing={3} alignItems='center' justifyContent='center' >\n                    <Grid item xs={12} sm={12} md={3} >\n                        <TextField\n                            label=\"Date\"\n                            type=\"date\"\n                            value={date}\n                            onChange={handleDateChange}\n                            style = {{ width: '100%'}}\n                            InputProps={{\n                                style: { \n                                    padding: '0px 10px',\n                                    fontSize: '0.8rem'\n                                }  \n                            }}\n                            fullWidth\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={12} md={2}>\n                        <TextField\n                            label=\"Time\"\n                            type=\"time\"\n                            value={time}\n                            onChange={handleTimeChange}\n                            fullWidth\n                            InputProps={{\n                                style: {\n                                    padding: '0px 10px',\n                                    fontSize: '0.8rem'\n                                }\n                            }}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={12} md={5}>\n                        <TextField\n                            label=\"Location\"\n                            value={location}\n                            onChange={handleLocationChange}\n                            fullWidth\n                            InputProps={{\n                                style: {\n                                    padding: '0px 10px',\n                                    //width: '200px',\n                                    fontSize: '0.8rem'\n                                }\n                            }}\n                        />\n                    </Grid>\n                    <Grid item xs={12} sm={12} md={2} >\n                        <Button variant=\"contained\" color=\"primary\" type=\"submit\" \n                        >\n                            Report\n                        </Button>\n                    </Grid>\n                </Grid>\n            </form>\n        </Paper>\n\n    );\n}\n\nexport default ReportForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,SAAS,CAAEC,KAAK,CAAcC,IAAI,KAAQ,eAAe,CAC1E,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,OAAO,CAAEC,OAAO,CAAEC,WAAW,KAAQ,kBAAkB,CAEhE,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEzB,KAAM,CAAAC,UAAoB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAY,IAAI,CAAGX,WAAW,CAAEY,KAAU,EAAKA,KAAK,CAACC,IAAI,CAACF,IAAI,CAAC,CACzD,KAAM,CAAAG,IAAI,CAAGd,WAAW,CAAEY,KAAU,EAAKA,KAAK,CAACC,IAAI,CAACC,IAAI,CAAC,CACzD,KAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAEY,KAAU,EAAKA,KAAK,CAACC,IAAI,CAACE,QAAQ,CAAC,CAEjE;AACA,KAAM,CAAAC,gBAAgB,CAAIC,CAAsC,EAAK,CACjEP,QAAQ,CAACT,OAAO,CAACgB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CACrC,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIH,CAAsC,EAAK,CACjEP,QAAQ,CAACR,OAAO,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CACrC,CAAC,CAED,KAAM,CAAAE,oBAAoB,CAAIJ,CAAsC,EAAK,CACrE,KAAM,CAACK,QAAQ,CAAEC,SAAS,CAAC,CAAGN,CAAC,CAACC,MAAM,CAACC,KAAK,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,KAAK,EAAIC,UAAU,CAACD,KAAK,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC,CAElG,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAZ,CAAkB,EAAK,CAC/CA,CAAC,CAACa,cAAc,CAAC,CAAC,CAClBC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAE,MAAO,CAAArB,IAAI,CAAC,CACjCoB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAE,MAAO,CAAAlB,IAAI,CAAC,CACjCiB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,MAAO,CAAAjB,QAAQ,CAAC,CAEzCgB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAErB,IAAI,CAAC,CAC1BoB,OAAO,CAACC,GAAG,CAAC,OAAO,CAAElB,IAAI,CAAC,CAC1BiB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEjB,QAAQ,CAAC,CAElC,KAAM,CAAAkB,UAAU,CAAG,CACftB,IAAI,CAAEA,IAAI,CACVG,IAAI,CAAEA,IAAI,CACVC,QAAQ,CAAEA,QACd,CAAC,CAED,GAAI,CACA,KAAM,CAAAmB,QAAQ,CAAG,KAAM,CAAA9B,KAAK,CAAC+B,IAAI,CAAC,yCAAyC,CAAEF,UAAU,CAAC,CACxFF,OAAO,CAACC,GAAG,CAACE,QAAQ,CAACE,IAAI,CAAC,CAE1B;AAEA1B,QAAQ,CAACT,OAAO,CAAC,EAAE,CAAC,CAAC,CACrBS,QAAQ,CAACR,OAAO,CAAC,EAAE,CAAC,CAAC,CACrBQ,QAAQ,CAACP,WAAW,CAAC,iBAAiB,CAAC,CAAC,CAE5C,CAAE,MAAOkC,KAAK,CAAE,CAEhB,CAEJ,CAAC,CAGD;AACA,oBACI;AACA/B,IAAA,CAACT,KAAK,EAACyC,SAAS,CAAE,CAAE,CAACC,SAAS,CAAC,aAAa,CAACC,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAM,CAAE,CAAAC,QAAA,cAExEpC,IAAA,SAAMqC,QAAQ,CAAEd,YAAa,CAAAa,QAAA,cACzBlC,KAAA,CAACV,IAAI,EAAC8C,SAAS,MAACC,OAAO,CAAE,CAAE,CAACC,UAAU,CAAC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAAL,QAAA,eACnEpC,IAAA,CAACR,IAAI,EAACkD,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAT,QAAA,cAC7BpC,IAAA,CAACV,SAAS,EACNwD,KAAK,CAAC,MAAM,CACZC,IAAI,CAAC,MAAM,CACXlC,KAAK,CAAER,IAAK,CACZ2C,QAAQ,CAAEtC,gBAAiB,CAC3BwB,KAAK,CAAI,CAAEe,KAAK,CAAE,MAAM,CAAE,CAC1BC,UAAU,CAAE,CACRhB,KAAK,CAAE,CACHiB,OAAO,CAAE,UAAU,CACnBC,QAAQ,CAAE,QACd,CACJ,CAAE,CACFC,SAAS,MACTC,eAAe,CAAE,CACbC,MAAM,CAAE,IACZ,CAAE,CACL,CAAC,CACA,CAAC,cACPvD,IAAA,CAACR,IAAI,EAACkD,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAT,QAAA,cAC7BpC,IAAA,CAACV,SAAS,EACNwD,KAAK,CAAC,MAAM,CACZC,IAAI,CAAC,MAAM,CACXlC,KAAK,CAAEL,IAAK,CACZwC,QAAQ,CAAElC,gBAAiB,CAC3BuC,SAAS,MACTH,UAAU,CAAE,CACRhB,KAAK,CAAE,CACHiB,OAAO,CAAE,UAAU,CACnBC,QAAQ,CAAE,QACd,CACJ,CAAE,CACFE,eAAe,CAAE,CACbC,MAAM,CAAE,IACZ,CAAE,CACL,CAAC,CACA,CAAC,cACPvD,IAAA,CAACR,IAAI,EAACkD,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAT,QAAA,cAC7BpC,IAAA,CAACV,SAAS,EACNwD,KAAK,CAAC,UAAU,CAChBjC,KAAK,CAAEJ,QAAS,CAChBuC,QAAQ,CAAEjC,oBAAqB,CAC/BsC,SAAS,MACTH,UAAU,CAAE,CACRhB,KAAK,CAAE,CACHiB,OAAO,CAAE,UAAU,CACnB;AACAC,QAAQ,CAAE,QACd,CACJ,CAAE,CACL,CAAC,CACA,CAAC,cACPpD,IAAA,CAACR,IAAI,EAACkD,IAAI,MAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,CAAE,CAAAT,QAAA,cAC7BpC,IAAA,CAACX,MAAM,EAACmE,OAAO,CAAC,WAAW,CAACC,KAAK,CAAC,SAAS,CAACV,IAAI,CAAC,QAAQ,CAAAX,QAAA,CACxD,QAED,CAAQ,CAAC,CACP,CAAC,EACL,CAAC,CACL,CAAC,CACJ,CAAC,EAGhB,CAAC,CAED,cAAe,CAAAjC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}